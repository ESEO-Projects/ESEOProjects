{% extends 'admin.html.twig' %}

{% block title %}Modifier : {{ project.name }}{% endblock %}

{% block body %}
{{ include('project/_form.html.twig', {'button_label': 'Modifier', 'card_title': 'Modifier le projet : ' ~ project}) }}
{% endblock %}


{% block javascripts %}
<script src="{{ asset('admin/js/ckeditor_4.15.1_full/ckeditor/ckeditor.js') }}" type="text/javascript"></script>
<script type="text/javascript">
$('#project_users').select2({
  theme: "bootstrap"
});
CKEDITOR.replace('project_description', {
  config: {
    toolbar: [
  		{ name: 'clipboard', items: ['Undo', 'Redo' ] },
  		{ name: 'basicstyles', items: [ 'Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'CopyFormatting', 'RemoveFormat' ] },
  		{ name: 'paragraph', items: [ 'NumberedList', 'BulletedList', '-', 'Blockquote', 'CreateDiv', '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock', '-', 'BidiLtr', 'BidiRtl', 'Language' ] },
  		{ name: 'links', items: [ 'Link', 'Unlink', 'Anchor' ] },
  		{ name: 'insert', items: [ 'Image', 'Table', 'HorizontalRule', 'SpecialChar'] }
  	]
  }
});
var fileInputs = document.querySelectorAll('input[type="file"]').forEach((fileInput, i) => {
  fileInput.addEventListener("change", function(){
    document.querySelector(`label[for="${fileInput.getAttribute('id')}"]`).innerHTML = fileInput.files[0].name;
  })
})
</script>
{% endblock %}
